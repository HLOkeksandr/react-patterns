{"version":3,"sources":["examples/21.stateReducerWithTypes.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/classnames/index.js","components/Switch.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["TYPES","Toggle","_ref","children","title","initialState","onReset","onToggle","stateReducer","_useState","useState","_useState2","Object","_Users_vitaliiovcharenko_MyDocs_react_patterns_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","on","setState","internalSetState","changes","state","reset","apply","arguments","toggle","_ref2","_ref2$type","type","defaultProps","Parent","props","_useState3","_useState4","timesClicked","setTimesClicked","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","assign","initialOn","_console","console","log","_console2","_Users_vitaliiovcharenko_MyDocs_react_patterns_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","_ref3","react__WEBPACK_IMPORTED_MODULE_2__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","_components_Switch__WEBPACK_IMPORTED_MODULE_4__","onClick","className","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","arg","argType","inner","key","join","module","exports","default","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","classnames__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_1___default","Switch","wrapperClassName","active","id","checked","onChange","data-testid","htmlFor","_defineProperty","obj","defineProperty","enumerable","configurable","writable","_objectSpread2","_defineProperty__WEBPACK_IMPORTED_MODULE_0__","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","target","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/4.ecffae09.chunk.js","sourcesContent":["import React, { useState, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Switch from \"../components/Switch\";\n\nconst TYPES = {\n  reset: \"reset\",\n  toggle: \"toggle\",\n  force: \"force\"\n};\n\nconst Toggle = ({\n  children,\n  title,\n  initialState,\n  onReset,\n  onToggle,\n  stateReducer\n}) => {\n  const [{ on }, setState] = useState(initialState);\n  const toggle = ({ type = TYPES.toggle }) => {\n    internalSetState({ type, on: !on });\n    onToggle();\n  };\n\n  const reset = (...args) => {\n    internalSetState(initialState);\n    onReset(...args);\n  };\n\n  const internalSetState = changes =>\n    setState(state => stateReducer(state, changes));\n\n  return children({\n    on,\n    title,\n    reset,\n    toggle\n  });\n};\n\nToggle.defaultProps = {\n  initialState: { on: false },\n  onReset: () => {},\n  title: \"\",\n  onToggle: () => {},\n  stateReducer: (state, changes) => changes,\n};\n\nconst Parent = props => {\n  const initialState = 0;\n  const [timesClicked, setTimesClicked] = useState(initialState);\n  const initialOn = true;\n\n  const onToggle = (...args) => {\n    setTimesClicked(timesClicked => ++timesClicked);\n    console.log(...args);\n  };\n\n  const onReset = (...args) => {\n    setTimesClicked(initialState);\n    console.log(...args);\n  };\n\n  const stateReducer = (state, changes) => {\n    if (changes.type === TYPES.force) {\n      return changes;\n    }\n    if (timesClicked >= 4) {\n      return { ...changes, on: false };\n    }\n    return changes;\n  };\n\n  return (\n    <Toggle\n      initialOn={initialOn}\n      onToggle={onToggle}\n      onReset={onReset}\n      stateReducer={stateReducer}\n      {...props}\n    >\n      {({ on, title, reset, toggle }) => (\n        <Fragment>\n          <h1>\n            <Link to=\"/\">{title}</Link>\n          </h1>\n          <h2>{on ? \"The button is on\" : \"The button is off\"}</h2>\n          <Switch on={on} onClick={toggle} />\n\n          {timesClicked > 5 ? (\n            <Fragment>\n              <div className=\"click-count\">You clicked to match!</div>\n              <button\n                className=\"toggle-button\"\n                onClick={() => toggle({ type: TYPES.force })}\n              >\n                Force Toggle\n              </button>\n            </Fragment>\n          ) : (\n            <div className=\"click-count\">\n              Click count: <strong>{timesClicked}</strong>\n            </div>\n          )}\n\n          <button className=\"toggle-button\" onClick={reset}>\n            Reset\n          </button>\n        </Fragment>\n      )}\n    </Toggle>\n  );\n};\n\nexport default Parent;\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","import React from \"react\";\nimport classNames from \"classnames\";\n\nconst Switch = ({ on, onClick }) => {\n  const wrapperClassName = classNames(\"switch\", {\n    active: on\n  });\n  return (\n    <div className={wrapperClassName}>\n      <input\n        className=\"switch-check\"\n        id=\"switch\"\n        type=\"checkbox\"\n        checked={on}\n        onChange={() => {}}\n        onClick={onClick}\n        data-testid=\"toggle-input\"\n      />\n      <label className=\"switch-label\" htmlFor=\"switch\">\n        <span className=\"switch-slider switch-slider-on\" />\n        <span className=\"switch-slider switch-slider-off\" />\n      </label>\n    </div>\n  );\n};\n\nexport default Switch;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}